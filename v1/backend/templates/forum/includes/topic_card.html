<div class="topic-card {% if is_pinned %}pinned-topic{% endif %}" style="background-color: rgba(255, 255, 255, 0.05); border-radius: 10px; overflow: hidden; transition: transform 0.3s ease, box-shadow 0.3s ease;">
    <a href="{% url 'forum:topic_detail' topic.slug %}" style="text-decoration: none; color: inherit; display: block;">
        <div style="padding: 20px; display: flex; align-items: center; gap: 15px;">
            <!-- Author avatar -->
            <div style="width: 45px; height: 45px; border-radius: 50%; overflow: hidden; flex-shrink: 0;">
                <img src="{{ topic.author.profile.profile_image.url }}" alt="{{ topic.author.username }}" style="width: 100%; height: 100%; object-fit: cover;" onerror="this.onerror=null; this.src='/static/img/default-avatar.png';">
            </div>

            <!-- Topic info -->
            <div style="flex-grow: 1;">
                <div style="display: flex; align-items: center; gap: 10px; margin-bottom: 5px;">
                    <h3 style="margin: 0; font-size: 1.2rem;">{{ topic.title }}</h3>

                    {% if topic.is_locked %}
                        <span style="background-color: #e74c3c; color: white; padding: 3px 8px; border-radius: 3px; font-size: 0.8rem;">
                            <i class="fas fa-lock" style="margin-right: 5px;"></i>Verrouillé
                        </span>
                    {% endif %}

                    {% if is_pinned %}
                        <span style="background-color: #ff6b6b; color: white; padding: 3px 8px; border-radius: 3px; font-size: 0.8rem;">
                            <i class="fas fa-thumbtack" style="margin-right: 5px;"></i>Épinglé
                        </span>
                    {% endif %}
                </div>

                <div style="display: flex; gap: 15px; color: #aaa; font-size: 0.9rem;">
                    <div>
                        <i class="fas fa-user" style="margin-right: 5px;"></i>{{ topic.author.get_full_name|default:topic.author.username }}
                    </div>
                    <div>
                        <i class="fas fa-clock" style="margin-right: 5px;"></i>{{ topic.created_at|date:"d/m/Y H:i" }}
                    </div>
                </div>
            </div>

            <!-- Topic stats -->
            <div style="display: flex; gap: 20px; text-align: center;">
                <div>
                    <div style="font-size: 1.2rem; font-weight: bold;">{{ topic.replies_count }}</div>
                    <div style="color: #aaa; font-size: 0.9rem;">Réponses</div>
                </div>
                <div>
                    <div style="font-size: 1.2rem; font-weight: bold;">{{ topic.views }}</div>
                    <div style="color: #aaa; font-size: 0.9rem;">Vues</div>
                </div>
            </div>
        </div>
    </a>
</div>
