{% extends 'base/base.html' %}
{% load custom_filters %}

{% block title %}Accueil - Club de Voitures Américaines{% endblock %}

{% block header %}
<!-- Header section with founders -->
<header>
    <!-- Toujours afficher l'image du fondateur -->
    <img src="/static/img/Jerem.png" alt="Fondateur">

    <div class="header-text">
        <img src="/static/img/logo.png" alt="logo" class="header-logo">
        <h1>Bienvenue</h1>
        {% if club_info %}
            <h4>{{ club_info.description }}</h4>
        {% else %}
            <h4>Une communauté dédiée aux passionnés de voitures américaines.</h4>
        {% endif %}
    </div>

    <!-- Toujours afficher l'image du co-fondateur -->
    <img src="/static/img/Eric.png" alt="Co-Fondateur">
</header>
{% endblock %}

{% block content %}
<!-- Main content with events -->
<main>
    <h1>Événements à Venir</h1>

    {% if upcoming_events %}
        {% for event in upcoming_events %}
            <a href="{% url 'event_detail' event.id %}" style="text-decoration: none; color: inherit;">
                <div class="event-card">
                    <img src="{% if event.type == 'rasso' %}/static/img/rasso.png{% else %}/static/img/autre.png{% endif %}" alt="{{ event.title }}">
                    <div class="event-info">
                        <h2>{{ event.event_date|date:"l j F Y"|capfirst }}</h2>
                        <h2>horaire : {{ event.event_date|date:"H:i" }}</h2>
                        <h2>{{ event.location }}</h2>
                        <!-- Ajout du badge de type d'événement -->
                        <div class="event-type" style="background-color: {% if event.type == 'rasso' %}#3498db{% else %}#e67e22{% endif %}; color: white; display: inline-block; padding: 3px 10px; border-radius: 12px; font-size: 0.8rem; margin-top: 5px;">
                            {{ event.get_type_display }}
                        </div>
                    </div>
                </div>
            </a>
        {% endfor %}
    {% else %}
        <!-- Display placeholder events when none are available -->
        {% for i in "123456" %}
            <div class="event-card">
                <img src="/static/img/autre.png" alt="Événement à venir">
                <div class="event-info">
                    <h2>Plus d'événements à venir</h2>
                    <h2>Restez à l'écoute</h2>
                    <h2>Informations bientôt disponibles</h2>
                </div>
            </div>
        {% endfor %}
    {% endif %}
</main>
{% endblock %}
